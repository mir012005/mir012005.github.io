<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <title>Simulation Ligue des Champions</title>
    <link rel="stylesheet" href="style.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>
    <header>
        <h1>‚öΩ Simulation LDC</h1>
        <nav>
            <button onclick="showPage('home')">Accueil</button>
            <button onclick="showPage('simulate')">Simulateur Club</button>
            <button onclick="showPage('analyses'); chargerAnalysesGlobales()">Analyses Globales</button>
            <button onclick="showPage('duel')">‚öîÔ∏è Duel</button>
            <button onclick="showPage('ranking'); chargerClassement()">üèÜ Classement</button>
        </nav>
    </header>

    <main>
        <section id="home" class="page">
            <div class="hero">
                <h2>Bienvenue sur le Simulateur LDC</h2>
                <p>Ce projet utilise la m√©thode de Monte Carlo et les lois de Poisson pour pr√©dire la fin de la saison.</p>
                <div class="actions">
                    <button class="big-btn" onclick="showPage('simulate')">Simuler mon club</button>
                    <button class="big-btn secondary" onclick="showPage('analyses'); chargerAnalysesGlobales()">Voir les tendances</button>
                </div>
            </div>
            <!-- 19/12/2025 16:42 d√©but MIR-->
            <div class="clubs-container">
                <h3>Ou choisissez une √©quipe directement :</h3>

                <div id="clubsGrid" class="clubs-grid">
                    <div class="loader"></div> Chargement...
                </div>
            </div>
            <!-- 19/12/2025 fin MIR-->
        </section>

        <section id="simulate" class="page" style="display:none;">
            <h2>Simulateur par Club</h2>
            <div class="search-box">
                <form id="simulationForm" onsubmit="event.preventDefault(); simulate();">
                    <label for="club">Nom du club :</label>
                    <input type="text" id="club" name="club" placeholder="Ex: Paris SG, Brest, Real Madrid...">
                    <button type="submit">Lancer la simulation</button>
                </form>
            </div>
        </section>

        <!-- 19/12/2025 17:42 d√©but MIR-->
        <section id="duel" class="page" style="display:none;">
            <h2>üîÆ Pr√©dicteur de Match</h2>
            <p>Simulez une rencontre sp√©cifique en utilisant le mod√®le Elo + Poisson.</p>

            <div class="duel-container">
                <div class="team-selector">
                    <label>Domicile üè†</label>
                    <select id="selHome"></select>
                </div>

                <div class="vs-badge">VS</div>

                <div class="team-selector">
                    <label>Ext√©rieur ‚úàÔ∏è</label>
                    <select id="selAway"></select>
                </div>
            </div>

            <div style="text-align:center; margin-top:20px;">
                <button class="big-btn" onclick="lancerDuel()">Simuler le match</button>
            </div>

            <div id="duelResult" class="duel-result" style="display:none;">
                <div class="score-board">
                    <div class="team-score">
                        <span id="resHomeName">Home</span>
                        <span id="resHomeScore" class="score-digit">0</span>
                    </div>
                    <div class="divider">-</div>
                    <div class="team-score">
                        <span id="resAwayName">Away</span>
                        <span id="resAwayScore" class="score-digit">0</span>
                    </div>
                </div>
                
                <div class="proba-bar-container">
                    <div id="barWin" class="p-bar win">Win</div>
                    <div id="barDraw" class="p-bar draw">Draw</div>
                    <div id="barLoss" class="p-bar loss">Loss</div>
                </div>
            </div>
        </section>
        
        <!-- 20/12/2025  MIR-->

        <section id="ranking" class="page" style="display:none;">
            <h2>üèÜ Classement Projet√© (Moyenne)</h2>
            
            <div class="controls-bar">
                <div class="control-group">
                    <label>De :</label>
                    <select id="startDay">
                        <option value="1" selected>J1</option><option value="2">J2</option>
                        <option value="3">J3</option><option value="4">J4</option>
                        <option value="5">J5</option><option value="6">J6</option>
                        <option value="7">J7</option><option value="8">J8</option>
                    </select>
                </div>
                <div class="control-group">
                    <label>√Ä :</label>
                    <select id="endDay">
                        <option value="1">J1</option><option value="2">J2</option>
                        <option value="3">J3</option><option value="4">J4</option>
                        <option value="5">J5</option><option value="6">J6</option>
                        <option value="7">J7</option><option value="8" selected>J8</option>
                    </select>
                </div>
                <button class="action-btn" onclick="chargerClassement()">üîÑ Calculer</button>
            </div>

            <div class="table-container">
                <table class="ranking-table">
                    <thead>
                        <tr>
                            <th>#</th>
                            <th style="text-align:left;">Club</th>
                            <th>Points</th>
                            <th>Diff. Buts</th>
                            <th>Buts</th>
                            <th class="secondary-stat">Buts Ext.</th>
                            <th>Victoires</th>
                            <th class="secondary-stat">Vict. Ext.</th>
                        </tr>
                    </thead>
                    <tbody id="rankingBody">
                        <tr><td colspan="8">Cliquez sur Calculer...</td></tr>
                    </tbody>
                </table>
            </div>
            
            <div class="legend">
                <span class="dot green"></span> Qualif Directe (1-8)
                <span class="dot orange"></span> Barrages (9-24)
                <span class="dot red"></span> √âlimin√© (25-36)
            </div>
        </section>

        <section id="results" class="page" style="display:none;">
            <h2>R√©sultats de la simulation</h2>
            <button onclick="showPage('simulate')" class="back-btn">‚Üê Nouvelle recherche</button>
            
            <div id="resultsContainer">
                </div>
        </section>

        <section id="analyses" class="page" style="display:none;">
            <h2>Analyses Globales (Monte Carlo)</h2>
            
            <div class="analysis-section">
                <h3>1. Les Seuils de Qualification</h3>
                <p>Combien de points faut-il pour se qualifier ?</p>
                <div class="charts-row">
                    <div class="chart-wrapper">
                        <h4>Pour le Top 8 (Qualif Directe)</h4>
                        <canvas id="chartTop8"></canvas>
                    </div>
                    <div class="chart-wrapper">
                        <h4>Pour le Top 24 (Barrages)</h4>
                        <canvas id="chartBarrage"></canvas>
                    </div>
                </div>
            </div>

            <div class="analysis-section">
                <h3>2. Matchs D√©cisifs (Prochaine Journ√©e)</h3>
                <p>Les rencontres qui auront le plus d'impact sur le classement g√©n√©ral.</p>
                <ul id="listeImportance" class="importance-list">
                    <li>Chargement des donn√©es...</li>
                </ul>
            </div>
        </section>
    </main>

    <script src="script.js"></script>
</body>
</html>
